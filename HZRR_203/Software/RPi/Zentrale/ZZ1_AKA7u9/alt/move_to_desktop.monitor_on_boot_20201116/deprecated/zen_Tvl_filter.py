#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on Tue Jan 17 15:29:31 2017

@author: pl
"""
import pylab as pl
import numpy as np



def filt( f, fakt ) :
    n=len(f)
    g = np.zeros(n,float)
    g[0] = f[0]
    for i in range(1,len(f)):
        g[i] = f[i]*fakt + g[i-1]*(1.0-fakt)
    return g

y0=np.array([
        59.        ,  61.5       ,  63.29999924,  63.40000153,
        59.79999924,  60.70000076,  61.09999847,  60.79999924,
        60.90000153,  61.        ,  61.09999847,  60.90000153,
        61.        ,  61.29999924,  61.29999924,  61.40000153,
        61.79999924,  61.70000076,  60.79999924,  60.70000076,
        60.59999847,  61.40000153,  61.29999924,  61.        ,
        61.40000153,  61.40000153,  61.40000153,  61.40000153,
        62.59999847,  57.29999924,  57.70000076,  57.90000153,
        60.        ,  61.40000153,  61.90000153,  62.40000153,
        62.40000153,  61.79999924,  61.29999924,  60.79999924,
        59.70000076,  60.        ,  61.20000076,  61.70000076,
        62.40000153,  62.29999924,  59.59999847,  58.5       ,
        59.29999924,  62.40000153,  64.90000153,  60.79999924,
        59.70000076,  61.70000076,  59.70000076,  61.09999847,
        61.59999847,  61.5       ,  61.40000153,  61.        ,
        61.59999847,  61.70000076,  61.90000153,  61.90000153,
        61.5       ,  61.5       ,  61.        ,  60.90000153,
        61.70000076,  62.20000076,  62.79999924,  61.79999924,
        61.59999847,  62.40000153,  61.20000076,  58.40000153,
        58.29999924,  59.        ,  61.        ,  61.5       ,
        62.09999847,  62.70000076,  63.09999847,  62.40000153,
        60.59999847,  61.59999847,  62.79999924,  63.40000153,
        61.79999924,  61.5       ,  61.20000076,  61.40000153,
        61.79999924,  62.59999847,  61.40000153,  61.79999924,
        61.70000076,  62.09999847,  63.        ,  62.20000076,
        60.70000076,  61.59999847,  61.5       ,  61.5       ,
        61.79999924,  62.09999847,  61.90000153,  62.29999924,
        62.40000153,  62.        ,  61.79999924,  61.90000153,
        61.90000153,  57.70000076,  57.79999924,  58.59999847,
        60.70000076,  62.09999847,  62.20000076,  63.09999847,
        63.        ,  61.90000153,  58.40000153,  58.70000076,
        61.09999847,  63.90000153,  64.30000305,  61.20000076,
        60.79999924,  61.59999847,  61.5       ,  61.59999847,
        61.70000076,  61.70000076,  62.40000153,  62.40000153,
        63.        ,  62.20000076,  62.09999847,  62.20000076,
        62.20000076,  61.09999847,  61.79999924,  62.09999847,
        62.40000153,  62.29999924,  62.29999924,  61.40000153,
        61.        ,  61.79999924,  63.90000153,  62.20000076,
        59.40000153,  60.59999847,  61.90000153,  62.5       ,
        63.20000076,  63.90000153,  63.09999847,  59.40000153,
        61.79999924,  63.40000153,  64.59999847,  62.79999924,
        62.20000076,  61.90000153,  61.79999924,  62.20000076,
        62.09999847,  62.20000076,  61.79999924,  62.29999924,
        62.5       ,  62.40000153,  62.40000153,  62.20000076,
        62.29999924,  62.20000076,  62.40000153,  62.5       ,
        62.90000153,  62.09999847,  62.09999847,  62.09999847,
        61.79999924,  61.70000076,  62.20000076,  63.5       ,
        61.09999847,  57.        ,  57.29999924,  59.29999924,
        61.59999847,  62.70000076,  62.70000076,  62.70000076,
        62.20000076,  62.09999847,  61.90000153,  61.29999924,
        60.79999924,  61.        ,  61.70000076,  62.29999924,
        62.79999924,  62.79999924,  59.79999924,  62.29999924,
        63.79999924,  64.30000305,  61.29999924,  61.40000153,
        62.59999847,  62.09999847,  62.20000076,  62.09999847,
        62.        ,  62.09999847,  61.59999847,  61.5       ,
        61.90000153,  62.09999847,  51.        ,  51.90000153,
        54.29999924,  52.29999924,  51.79999924,  52.29999924,
        53.20000076,  52.29999924,  52.20000076,  53.09999847,
        53.59999847,  53.59999847,  52.29999924,  51.5       ,
        49.90000153,  50.59999847,  51.        ,  52.09999847,
        53.40000153,  54.40000153,  55.09999847,  52.5       ,
        52.59999847,  52.29999924,  51.90000153,  51.79999924,
        52.40000153,  52.40000153,  52.59999847,  53.70000076,
        53.09999847,  52.70000076,  52.70000076,  52.29999924,
        53.        ,  51.90000153,  51.29999924,  52.70000076,
        52.29999924,  52.59999847,  53.29999924,  52.29999924,
        49.90000153,  53.09999847,  53.5       ,  52.20000076,
        52.59999847,  51.90000153,  52.        ,  51.40000153,
        52.70000076,  52.40000153,  52.70000076,  52.79999924,
        52.40000153,  52.29999924,  52.20000076,  52.90000153,
        52.29999924,  51.70000076,  49.79999924,  50.70000076,
        52.09999847,  53.09999847,  53.29999924,  53.5       ,
        53.09999847,  52.90000153,  52.79999924,  52.40000153,
        52.59999847,  52.20000076,  51.90000153,  51.90000153,
        53.09999847,  54.40000153,  51.5       ,  51.90000153,
        52.70000076,  52.40000153,  52.70000076,  52.29999924,
        52.20000076,  52.5       ,  52.40000153,  52.40000153,
        52.        ,  52.40000153,  52.79999924,  52.79999924,
        52.40000153,  51.90000153,  52.29999924,  52.90000153,
        53.09999847,  52.20000076,  51.40000153,  52.79999924,
        52.70000076,  52.90000153,  52.59999847,  52.29999924,
        53.09999847,  52.70000076,  52.20000076,  50.79999924,
        49.79999924,  51.40000153,  52.29999924,  53.20000076,
        54.5       ,  54.20000076,  52.70000076,  52.79999924,
        53.09999847,  53.20000076,  52.90000153,  52.70000076,
        52.20000076,  52.29999924,  52.59999847,  52.70000076,
        54.40000153,  51.90000153,  52.20000076,  52.79999924,
        52.90000153,  52.70000076,  52.90000153,  52.70000076,
        52.20000076,  52.        ,  52.79999924,  52.79999924,
        52.59999847,  52.5       ,  52.29999924,  52.79999924,
        53.20000076,  52.29999924,  52.5       ,  52.40000153,
        52.29999924,  52.90000153,  53.        ,  53.29999924,
        51.90000153,  52.40000153,  52.59999847,  53.59999847,
        53.29999924,  51.29999924,  50.5       ,  51.29999924,
        52.        ,  53.29999924,  54.20000076,  54.        ,
        52.90000153,  52.70000076,  52.70000076,  52.70000076,
        52.59999847,  52.5       ,  52.59999847,  52.70000076,
        52.29999924,  52.29999924,  53.79999924,  54.40000153,
        52.40000153,  53.20000076,  52.59999847,  52.70000076,
        52.59999847,  52.20000076,  52.70000076,  52.90000153,
        52.90000153,  52.59999847,  52.29999924,  53.        ,
        52.59999847,  52.29999924,  52.79999924,  52.70000076,
        52.90000153,  52.90000153,  60.70000076,  59.70000076,
        60.70000076,  61.40000153,  62.40000153,  63.59999847,
        64.69999695,  62.20000076,  63.09999847,  61.        ,
        57.20000076,  57.70000076,  61.        ,  63.        ,
        63.79999924,  64.09999847,  62.70000076,  61.5       ,
        61.        ,  61.59999847,  61.90000153,  62.29999924,
        59.40000153,  59.        ,  59.59999847,  63.29999924,
        65.19999695,  62.79999924,  62.20000076,  61.90000153,
        61.79999924,  61.79999924,  62.29999924,  62.59999847,
        63.20000076,  63.09999847,  62.29999924,  62.70000076,
        62.20000076,  62.09999847,  61.90000153,  62.        ,
        62.09999847,  61.70000076,  61.90000153,  62.90000153,
        63.09999847,  64.30000305,  62.59999847,  62.20000076,
        62.5       ,  57.29999924,  57.20000076,  58.79999924,
        61.79999924,  62.79999924,  63.        ,  63.09999847,
        60.59999847,  61.90000153,  63.90000153,  65.19999695,
        62.29999924,  61.59999847,  62.70000076,  62.90000153,
        62.70000076,  62.5       ,  62.79999924,  62.59999847,
        62.59999847,  62.5       ,  63.        ,  63.20000076,
        63.29999924,  63.09999847,  62.70000076,  62.70000076,
        62.79999924,  62.20000076,  62.20000076,  62.59999847,
        62.79999924,  62.59999847,  62.40000153,  63.40000153,
        63.        ,  60.79999924,  61.5       ,  62.20000076,
        62.70000076,  63.70000076,  64.19999695,  64.        ,
        62.59999847,  62.29999924,  62.20000076,  62.79999924,
        63.09999847,  63.5       ,  63.09999847,  62.20000076,
        58.59999847,  59.09999847,  62.40000153,  64.40000153,
        64.80000305,  61.79999924,  61.90000153,  62.29999924,
        62.40000153,  61.90000153,  62.29999924,  62.79999924,
        63.20000076,  63.5       ,  62.40000153,  62.29999924,
        62.40000153,  61.79999924,  62.29999924,  62.59999847,
        62.5       ,  62.59999847,  63.        ,  62.20000076,
        62.09999847,  62.29999924,  62.59999847,  62.5       ,
        63.70000076,  59.79999924,  59.29999924,  60.        ,
        61.29999924,  62.20000076,  62.20000076,  62.70000076,
        63.20000076,  63.        ,  62.40000153,  61.59999847,
        60.90000153,  58.59999847,  61.09999847,  62.59999847,
        63.59999847,  64.59999847,  61.        ,  61.40000153,
        62.09999847,  61.79999924,  61.70000076,  61.79999924,
        61.59999847,  61.20000076,  61.59999847,  61.90000153,
        62.59999847,  62.90000153,  61.40000153,  61.40000153,
        62.70000076,  61.79999924,  62.        ,  61.59999847,
        61.5       ,  61.29999924,  61.79999924,  61.5       ,
        61.79999924,  63.90000153,  59.20000076,  60.90000153,
        59.79999924,  61.29999924,  61.59999847,  61.40000153,
        61.79999924,  62.09999847,  62.29999924,  62.59999847,
        62.70000076,  62.09999847,  60.90000153,  61.90000153,
        63.20000076,  63.20000076,  61.90000153,  61.59999847,
        61.29999924,  61.20000076,  61.90000153,  61.79999924,
        61.79999924,  61.79999924,  62.        ,  62.20000076,
        62.59999847,  62.        ,  61.5       ,  61.20000076,
        61.        ,  61.70000076,  61.59999847,  61.90000153,
        62.20000076,  61.90000153,  61.70000076,  61.29999924,
        61.59999847,  63.40000153,  60.        ,  57.70000076,
        58.40000153,  59.59999847,  61.5       ,  61.90000153,
        62.20000076,  62.59999847,  62.40000153,  62.20000076,
        62.29999924,  62.09999847,  61.79999924,  61.90000153,
        61.40000153,  60.70000076,  60.59999847,  61.        ,
        59.70000076,  62.20000076,  63.90000153,  63.        ,
        60.        ,  61.40000153,  61.5       ,  61.40000153,
        61.29999924,  61.20000076,  60.90000153,  61.29999924,
        61.70000076,  61.90000153,  62.29999924,  61.90000153,
        61.70000076,  61.29999924,  61.29999924,  61.29999924,
        61.29999924,  61.        ,  61.09999847,  61.5       ,
        61.79999924,  62.29999924,  62.09999847,  61.79999924,
        62.09999847,  59.        ,  59.20000076,  59.40000153,
        60.79999924,  61.40000153,  61.29999924,  61.79999924,
        62.40000153,  62.09999847,  61.90000153,  61.79999924,
        61.70000076,  61.70000076,  61.40000153,  61.79999924,
        62.20000076,  59.29999924,  59.70000076,  63.        ,
        64.30000305,  63.40000153,  61.90000153,  62.        ,
        61.5       ,  62.        ,  62.20000076,  62.29999924,
        62.29999924,  62.20000076,  62.        ,  62.        ,
        62.5       ,  62.09999847,  61.5       ,  61.90000153,
        62.        ,  62.20000076,  62.20000076,  62.40000153,
        62.79999924,  62.20000076,  61.90000153,  62.09999847,
        62.29999924,  63.5       ,  61.5       ,  59.90000153,
        61.        ,  61.09999847,  61.29999924,  62.09999847,
        63.        ,  63.40000153,  63.        ,  62.29999924,
        61.79999924,  61.90000153,  61.79999924,  62.20000076,
        62.59999847,  63.        ,  63.79999924,  62.90000153,
        61.29999924,  59.79999924,  62.        ,  63.09999847,
        64.09999847,  63.29999924,  62.40000153,  62.5       ,
        62.5       ,  61.90000153,  61.70000076,  62.20000076,
        62.20000076,  62.40000153,  62.70000076,  63.09999847,
        63.40000153,  62.20000076,  62.29999924,  61.79999924,
        62.20000076,  62.40000153,  62.40000153,  62.40000153,
        62.29999924,  62.59999847,  62.79999924,  63.20000076,
        64.59999847,  59.79999924,  58.20000076,  58.20000076,
        60.90000153,  62.20000076,  62.40000153,  62.79999924,
        63.70000076,  64.09999847,  62.59999847,  62.29999924,
        61.40000153,  61.79999924,  62.20000076,  62.70000076,
        63.09999847,  63.09999847,  59.70000076,  62.09999847,
        63.29999924,  63.5       ,  64.69999695,  62.70000076,
        62.40000153,  62.20000076,  61.90000153,  62.70000076,
        62.40000153,  62.20000076,  62.29999924,  62.40000153,
        63.09999847,  63.40000153,  63.90000153,  62.59999847,
        63.20000076,  62.59999847,  62.70000076,  62.        ,
        61.70000076,  62.40000153,  62.40000153,  62.90000153,
        62.40000153,  62.70000076,  64.30000305,  59.59999847,
        59.79999924,  61.79999924,  63.59999847,  64.19999695,
        63.70000076,  62.29999924,  61.59999847,  62.29999924,
        62.29999924,  60.59999847,  61.09999847,  62.40000153,
        63.90000153,  64.80000305,  64.09999847,  62.5       ,
        62.        ,  62.29999924,  62.59999847,  62.59999847,
        62.79999924,  63.29999924,  63.40000153,  63.5       ,
        63.09999847,  63.        ,  62.59999847,  62.20000076,
        62.29999924,  62.90000153,  63.09999847,  63.20000076,
        63.        ,  62.5       ,  63.09999847,  63.09999847], dtype=np.float32)

fkt = 0.1
x  = range(len(y0))
y1 = filt(y0,fkt)
y2 = filt(y1,fkt)
y3 = filt(y2,fkt)
y4 = filt(y3,fkt)


fig1 = pl.figure(1,figsize=(16,12))
pl.plot(x,y0,color="yellow")
pl.plot(x,y1,color="orange")
pl.plot(x,y2,color="green")
#pl.plot(x,y3,color="red")
#pl.plot(x,y4,color="blue")
pl.show()
